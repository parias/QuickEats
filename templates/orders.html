<!DOCTYPE html>
{% extends "layout.html" %}
{% block body %}
<head>
   <title>Orders</title>
</head>

<body>
   <div>
   {% if orders %}

   <!-- If Buddy, shows uncompleted order of Restaurant-->
   {% if user_type == 'buddy' %}
   <table data-toggle="table">
      <thead>
         <tr>
            <th>Menu Item</th>
            <th>Cost</th>
            <th>Requested Delivery</th>
            <th>Prepare</th>
         </tr>
      </thead>
      {% for key, value in orders.items() %}
      <tr id="tr-id-1" class="tr-class-1">
         <td id="td-id-1" class="td-class-1">{{ value['entree'] }}</td>
         <td>{{ value['cost'] }}</td>
         <td>{{value['requested_delivery']}}</td>
         <td><a class="btn btn-primary" href="/deliver/{{key}}" onClick="alert('{{value['entree']}} Will be Delivered')">Deliver</a></td>
      </tr>
      {% endfor %}
   </table> 

   <!-- If Chauffeur, shows undeliverd orders-->
   {% elif user_type == 'chauffeur' %}
   <table data-toggle="table">
      <thead>
         <tr>
            <th>Menu Item</th>
            <th>Address</th>
            <th>Prepare</th>
         </tr>
      </thead>
      {% for key, value in orders.items() %}
      <tr id="tr-id-1" class="tr-class-1">
         <td id="td-id-1" class="td-class-1">{{ value['entree'] }}</td>
         <td>{{ value['address'] }}</td>
         <td><a class="btn btn-primary" href="/complete_order/{{key}}" onClick="alert('{{value['entree']}} delivery has been completed')">Complete</a></td>
      </tr>
      {% endfor %}
   </table> 

   <!-- If Investigator, shows All Completed Orders-->
   {% elif user_type == 'investigator' %}
   <table data-toggle="table">
      <thead>
         <tr>
            <th>Menu Item</th>
            <th>Times Purchased</th>
            <th>Ad</th>
         </tr>
      </thead>
      {% for key, value in orders.items() %}
      <tr id="tr-id-1" class="tr-class-1">
         <td id="td-id-1" class="td-class-1">{{ key }}</td>
         <td>{{ value }}</td>
          <td><a class="btn btn-primary" href="#" onClick="alert('{{value['key']}} Ad has been created')">Complete</a></td>
      </tr>
      {% endfor %}
   </table> 

   <!-- Orders of Everyone else -->   
   {% else %}
   <table data-toggle="table">
      <thead>
         <tr>
            <th>Menu Item</th>
            <th>Cost</th>
            <th>Date Ordered</th>
         </tr>
      </thead>
      {% for key, value in orders.items() %}
      <tr id="tr-id-1" class="tr-class-1">
         <td id="td-id-1" class="td-class-1">{{ value['entree'] }}</td>
         <td>{{ value['cost'] }}</td>
         <td>{{ value['date_time'] }}</td>
      </tr>
      {% endfor %}
   </table> 
   {% endif %}
   {% else %}
   You have no orders! 
   {% endif %}
   </div>
</body>

{% endblock %}
</html>
